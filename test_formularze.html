<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

    <style>

      div{ 
        display: flex;
        width: 450px;
        padding: 10px 0;
        }

        span {
            color: red;
        }

    </style>


<body>
   
         <form action="">
             <div><label for="red">Wpisz wartość koloru czerwonego</label>
             <input type="number" name="red" id="red"/></div>
             <span class="error"></span>
            
             <div><label for="green">Wpisz wartość koloru zielonego</label>
             <input type="number" name="green" id="green"/></div>
             <span class="error"></span>

             <div><label for="blue">Wpisz wartość koloru niebieskiego</label>
             <input type="number" name="blue" id="blue"/></div>
             <span class="error"></span>

            <div>
                <input type="submit" value="Zmień kolor tła"/>
            </div>
        </form>
    
        <script>

            //pobieramy formularz w celu obsługi 
            const formularz = document.querySelector('form');

            //pobieramy elementy formularza (inputy, bez submit)
            const inputRed = document.querySelector('input[name="red"]');
            const inputGreen = document.querySelector('input[name="green"]');
            const inputBlue = document.querySelector('input[name="blue"]');

            //pobieramy jednocześnie wszytkie spany o klasie error
            const errors = document.querySelectorAll('span.error');

            //obsługa zdarzenia submit na formularzu 
            formularz.addEventListener('submit', function(e){
            //poniższy kod wykona się kiedy klikniemy w przycisk submit
            
            e.preventDefault(); //zatrzymanie domyślnej akcji

            //pobieramy wartości wpisane przez użytkownika 
            const red  = inputRed.value;
            const green = inputGreen.value;
            const blue = inputBlue.value;

            //wyczyszczenie informacji o błędach
            errors.forEach(error=>{
                //nasz error to nic innego jak poszczególny element span
                error.textContent = "";
            });

            //walidacja pól
            if(red<0 || red >255){
                errors[0].textContent = 'Wartosc musi zawierac sie w przedziale 0-255';
                return false;
            }

            if(green<0 || green >255){
                errors[1].textContent = 'Wartosc musi zawierac sie w przedziale 0-255';
                return false;
            }

            if(blue<0 || blue >255){
                errors[2].textContent = 'Wartosc musi zawierac sie w przedziale 0-255';
                return false;
            }

            //zmieniamy kolor tła strony
            document.body.style.backgroundColor = `rgb(${red}, ${green}, ${blue})`;

            });

        </script>

</body>
</html>